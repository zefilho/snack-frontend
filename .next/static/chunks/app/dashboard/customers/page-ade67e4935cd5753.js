(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{5127:(e,s,r)=>{"use strict";r.d(s,{A0:()=>i,BF:()=>c,Hj:()=>d,XI:()=>n,nA:()=>h,nd:()=>o,r6:()=>m});var t=r(5155),a=r(2115),l=r(9434);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",r),...a})});i.displayName="TableHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});d.displayName="TableRow";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let h=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});h.displayName="TableCell";let m=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})});m.displayName="TableCaption"},5212:(e,s,r)=>{"use strict";r.d(s,{d:()=>c,p:()=>i});var t=r(5155),a=r(722),l=r(2115);let n=(0,l.createContext)(void 0),i=e=>{let{children:s}=e,[r,i]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0),[o,h]=(0,l.useState)(null),m=(0,l.useCallback)(async()=>{try{d(!0),h(null);let e=await a.mJ.getAll();i(e)}catch(e){h(e instanceof Error?e.message:"Erro ao carregar clientes"),console.error("Erro ao carregar clientes:",e)}finally{d(!1)}},[]),x=(0,l.useCallback)(async e=>{try{h(null);let s=await a.mJ.create(e);i(e=>[...e,s])}catch(e){throw h(e instanceof Error?e.message:"Erro ao criar cliente"),e}},[]),u=(0,l.useCallback)(async e=>{try{h(null),await a.mJ.delete(e),i(s=>s.filter(s=>s.id!==e))}catch(e){throw h(e instanceof Error?e.message:"Erro ao remover cliente"),e}},[]);return(0,l.useEffect)(()=>{m()},[m]),(0,t.jsx)(n.Provider,{value:{customers:r,addCustomer:x,removeCustomer:u,loading:c,error:o,refreshCustomers:m},children:s})},c=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useCustomers must be used within a CustomersProvider");return e}},6336:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(5155),a=r(285),l=r(6695),n=r(5127),i=r(5212),c=r(7223),d=r(2115),o=r(4165),h=r(2523),m=r(5057),x=r(4301),u=r(7481);function j(){let[e,s]=(0,d.useState)(""),[r,l]=(0,d.useState)(""),[n,c]=(0,d.useState)(!1),{addCustomer:j}=(0,i.d)(),{toast:f}=(0,u.dj)();return(0,t.jsxs)(o.lG,{open:n,onOpenChange:c,children:[(0,t.jsx)(o.zM,{asChild:!0,children:(0,t.jsxs)(a.$,{children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Novo Cliente"]})}),(0,t.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(o.c7,{children:[(0,t.jsx)(o.L3,{children:"Cadastrar Novo Cliente"}),(0,t.jsx)(o.rr,{children:"Insira os dados do novo cliente."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(m.J,{htmlFor:"customer-name",className:"text-right",children:"Nome"}),(0,t.jsx)(h.p,{id:"customer-name",value:e,onChange:e=>s(e.target.value),className:"col-span-3",placeholder:"Nome do Cliente"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(m.J,{htmlFor:"customer-phone",className:"text-right",children:"Telefone"}),(0,t.jsx)(h.p,{id:"customer-phone",value:r,onChange:e=>l(e.target.value),className:"col-span-3",placeholder:"(Opcional)"})]})]}),(0,t.jsxs)(o.Es,{children:[(0,t.jsx)(o.HM,{asChild:!0,children:(0,t.jsx)(a.$,{type:"button",variant:"outline",children:"Cancelar"})}),(0,t.jsx)(a.$,{type:"submit",onClick:()=>{if(""===e.trim()){f({title:"Erro",description:"O nome do cliente n\xe3o pode estar vazio.",variant:"destructive"});return}j({name:e.trim(),phone:r.trim()}),f({title:"Sucesso",description:'Cliente "'.concat(e.trim(),'" criado.')}),s(""),l(""),c(!1)},children:"Salvar Cliente"})]})]})]})}var f=r(10);function p(){let{customers:e,removeCustomer:s}=(0,i.d)();return(0,t.jsxs)("div",{className:"flex flex-col h-full gap-6",children:[(0,t.jsxs)("header",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-headline font-semibold",children:"Gest\xe3o de Clientes"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Adicione, visualize e remova clientes."})]}),(0,t.jsx)(j,{})]}),(0,t.jsxs)(l.Zp,{className:"flex-grow",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Lista de Clientes"}),(0,t.jsxs)(l.BT,{children:["Atualmente h\xe1 ",e.length," cliente(s) cadastrado(s)."]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)(n.XI,{children:[(0,t.jsx)(n.A0,{children:(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nd,{children:"Nome"}),(0,t.jsx)(n.nd,{children:"Telefone"}),(0,t.jsx)(n.nd,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(n.BF,{children:0===e.length?(0,t.jsx)(n.Hj,{children:(0,t.jsx)(n.nA,{colSpan:3,className:"h-24 text-center",children:"Nenhum cliente cadastrado."})}):e.map(e=>(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nA,{className:"font-medium",children:e.name}),(0,t.jsx)(n.nA,{children:e.phone}),(0,t.jsx)(n.nA,{className:"text-right",children:(0,t.jsxs)(f.Lt,{children:[(0,t.jsx)(f.tv,{asChild:!0,children:(0,t.jsx)(a.$,{variant:"ghost",size:"icon",disabled:"Cliente Balc\xe3o"===e.name,children:(0,t.jsx)(c.A,{className:"h-4 w-4 text-destructive"})})}),(0,t.jsxs)(f.EO,{children:[(0,t.jsxs)(f.wd,{children:[(0,t.jsx)(f.r7,{children:"Voc\xea tem certeza?"}),(0,t.jsx)(f.$v,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. Isso remover\xe1 permanentemente o cliente."})]}),(0,t.jsxs)(f.ck,{children:[(0,t.jsx)(f.Zr,{children:"Cancelar"}),(0,t.jsx)(f.Rx,{onClick:()=>s(e.id),children:"Continuar"})]})]})]})})]},e.id))})]})})]})]})}},7223:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9962:(e,s,r)=>{Promise.resolve().then(r.bind(r,6336))}},e=>{var s=s=>e(e.s=s);e.O(0,[277,568,756,539,619,441,684,358],()=>s(9962)),_N_E=e.O()}]);