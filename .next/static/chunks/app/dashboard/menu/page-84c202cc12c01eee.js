(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{1978:(e,r,s)=>{"use strict";s.d(r,{B:()=>i,b:()=>c});var t=s(5155),a=s(722),l=s(2115);let n=(0,l.createContext)(void 0),i=e=>{let{children:r}=e,[s,i]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0),[o,m]=(0,l.useState)(null),h=(0,l.useCallback)(async()=>{try{d(!0),m(null);let e=await a.Y_.getAll();i(e)}catch(e){m(e instanceof Error?e.message:"Erro ao carregar itens do menu"),console.error("Erro ao carregar itens do menu:",e)}finally{d(!1)}},[]),x=(0,l.useCallback)(async e=>{try{m(null);let r=await a.Y_.create(e);i(e=>[...e,r])}catch(e){throw m(e instanceof Error?e.message:"Erro ao criar item do menu"),e}},[]),u=(0,l.useCallback)(async e=>{try{m(null),await a.Y_.delete(e),i(r=>r.filter(r=>r.id!==e))}catch(e){throw m(e instanceof Error?e.message:"Erro ao remover item do menu"),e}},[]);return(0,l.useEffect)(()=>{h()},[h]),(0,t.jsx)(n.Provider,{value:{menuItems:s,addMenuItem:x,removeMenuItem:u,loading:c,error:o,refreshMenuItems:h},children:r})},c=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useMenu must be used within a MenuProvider");return e}},5127:(e,r,s)=>{"use strict";s.d(r,{A0:()=>i,BF:()=>c,Hj:()=>d,XI:()=>n,nA:()=>m,nd:()=>o,r6:()=>h});var t=s(5155),a=s(2115),l=s(9434);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",s),...a})})});n.displayName="Table";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",s),...a})});i.displayName="TableHeader";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...a})});c.displayName="TableBody",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});d.displayName="TableRow";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("th",{ref:r,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});o.displayName="TableHead";let m=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("td",{ref:r,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});m.displayName="TableCell";let h=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...a})});h.displayName="TableCaption"},7223:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8254:(e,r,s)=>{Promise.resolve().then(s.bind(s,8759))},8759:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(5155),a=s(2115),l=s(285),n=s(6695),i=s(5127),c=s(1978),d=s(7223),o=s(4165),m=s(2523),h=s(5057),x=s(4301),u=s(7481);function j(){let[e,r]=(0,a.useState)(""),[s,n]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[j,p]=(0,a.useState)(!1),{addMenuItem:f}=(0,c.b)(),{toast:g}=(0,u.dj)();return(0,t.jsxs)(o.lG,{open:j,onOpenChange:p,children:[(0,t.jsx)(o.zM,{asChild:!0,children:(0,t.jsxs)(l.$,{children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Novo Item"]})}),(0,t.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(o.c7,{children:[(0,t.jsx)(o.L3,{children:"Adicionar Item ao Card\xe1pio"}),(0,t.jsx)(o.rr,{children:"Insira os detalhes do novo item."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(h.J,{htmlFor:"item-name",className:"text-right",children:"Nome"}),(0,t.jsx)(m.p,{id:"item-name",value:e,onChange:e=>r(e.target.value),className:"col-span-3",placeholder:"Ex: Coxinha de Frango"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(h.J,{htmlFor:"item-category",className:"text-right",children:"Categoria"}),(0,t.jsx)(m.p,{id:"item-category",value:i,onChange:e=>d(e.target.value),className:"col-span-3",placeholder:"Ex: Salgados"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(h.J,{htmlFor:"item-price",className:"text-right",children:"Pre\xe7o"}),(0,t.jsx)(m.p,{id:"item-price",type:"number",value:s,onChange:e=>n(e.target.value),className:"col-span-3",placeholder:"Ex: 5.50"})]})]}),(0,t.jsxs)(o.Es,{children:[(0,t.jsx)(o.HM,{asChild:!0,children:(0,t.jsx)(l.$,{type:"button",variant:"outline",children:"Cancelar"})}),(0,t.jsx)(l.$,{type:"submit",onClick:()=>{let t=parseFloat(s);if(""===e.trim()||""===i.trim()||isNaN(t)||t<=0){g({title:"Erro de Valida\xe7\xe3o",description:"Por favor, preencha todos os campos com valores v\xe1lidos.",variant:"destructive"});return}f({name:e.trim(),price:t,category:i.trim()}),g({title:"Sucesso",description:'Item "'.concat(e.trim(),'" criado com sucesso.')}),r(""),n(""),d(""),p(!1)},children:"Salvar Item"})]})]})]})}var p=s(10);function f(){let{menuItems:e,removeMenuItem:r}=(0,c.b)(),s=(0,a.useMemo)(()=>e.reduce((e,r)=>((e[r.category]=e[r.category]||[]).push(r),e),{}),[e]);return(0,t.jsxs)("div",{className:"flex flex-col h-full gap-6",children:[(0,t.jsxs)("header",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-headline font-semibold",children:"Gest\xe3o de Card\xe1pio"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Adicione, visualize e remova itens do card\xe1pio."})]}),(0,t.jsx)(j,{})]}),(0,t.jsxs)(n.Zp,{className:"flex-grow",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Itens do Card\xe1pio"}),(0,t.jsxs)(n.BT,{children:["Atualmente h\xe1 ",e.length," item(ns) no card\xe1pio."]})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)(i.XI,{children:[(0,t.jsx)(i.A0,{children:(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nd,{children:"Nome"}),(0,t.jsx)(i.nd,{children:"Categoria"}),(0,t.jsx)(i.nd,{children:"Pre\xe7o"}),(0,t.jsx)(i.nd,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,t.jsxs)(i.BF,{children:[Object.entries(s).map(e=>{let[s,n]=e;return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(i.Hj,{className:"bg-muted/50",children:(0,t.jsx)(i.nA,{colSpan:4,className:"font-semibold text-muted-foreground",children:s})}),n.map(e=>(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nA,{className:"font-medium",children:e.name}),(0,t.jsx)(i.nA,{children:e.category}),(0,t.jsx)(i.nA,{children:e.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(0,t.jsx)(i.nA,{className:"text-right",children:(0,t.jsxs)(p.Lt,{children:[(0,t.jsx)(p.tv,{asChild:!0,children:(0,t.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(d.A,{className:"h-4 w-4 text-destructive"})})}),(0,t.jsxs)(p.EO,{children:[(0,t.jsxs)(p.wd,{children:[(0,t.jsx)(p.r7,{children:"Voc\xea tem certeza?"}),(0,t.jsx)(p.$v,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. Isso remover\xe1 permanentemente o item do card\xe1pio."})]}),(0,t.jsxs)(p.ck,{children:[(0,t.jsx)(p.Zr,{children:"Cancelar"}),(0,t.jsx)(p.Rx,{onClick:()=>r(e.id),children:"Continuar"})]})]})]})})]},e.id))]},s)}),0===e.length&&(0,t.jsx)(i.Hj,{children:(0,t.jsx)(i.nA,{colSpan:4,className:"h-24 text-center",children:"Nenhum item cadastrado."})})]})]})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[277,568,756,539,619,441,684,358],()=>r(8254)),_N_E=e.O()}]);